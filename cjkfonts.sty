% cjkfonts.sty
%
% A XeLaTeX package for typesetting CJK documents.
%
% Author: Freeman Zhang <zhanggyb@gmail.com>
% Version: 0.1
% Homepage: https://github.com/zhanggyb/cjkfonts
%
% Options:
%	path: The path where can find cjkfonts font files.
%	mdseries: choose one of ExtraLight, Light, Normal, Regular, Medium, Bold, Heavy for text with medium weight.
%	bfseries: choose one of ExtraLight, Light, Normal, Regular, Medium, Bold, Heavy for text with bold face.
% 	default: boolean option, cjkfonts is set as the default font family and as the sans serif family for CJK text.

% Identification
% ==============

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{cjkfonts}[2015/12/12 Packages to set CJK fonts]


% Required Packages
% =================

\RequirePackage{ifthen}
\RequirePackage{xeCJK}

% Set key-value options
\RequirePackage{kvoptions}
\DeclareStringOption[fonts/]{path}[fonts/]
\DeclareStringOption[Regular]{mdseries}[Regular]
\DeclareStringOption[Bold]{bfseries}[Bold]
\DeclareBoolOption[false]{default}
\ProcessKeyvalOptions*


%% Configuration for fonts
%% =======================

\newCJKfontfamily[SourceHanSansSC]\SourceHanSansSC[
  Extension=.otf,
  Path=\cjkfonts@path/,
  UprightFont=*-\cjkfonts@mdseries,
  BoldFont=*-\cjkfonts@bfseries,
  ItalicFont=*-\cjkfonts@mdseries,
  BoldItalicFont=*-\cjkfonts@bfseries,
  ItalicFeatures=FakeSlant,
  BoldItalicFeatures=FakeSlant]{SourceHanSansSC}

\newCJKfontfamily[SourceHanSansSCExtraLight]\SourceHanSansSCExtraLight[
  Extension=.otf,
  Path=\cjkfonts@path/,
  UprightFont=*-ExtraLight,
  AutoFakeSlant=true]{SourceHanSansSC}  

\newCJKfontfamily[SourceHanSansSCLight]\SourceHanSansSCLight[
  Extension=.otf,
  Path=\cjkfonts@path/,
  UprightFont=*-Light,
  AutoFakeSlant=true]{SourceHanSansSC}  

\newCJKfontfamily[SourceHanSansSCNormal]\SourceHanSansSCNormal[
  Extension=.otf,
  Path=\cjkfonts@path/,
  UprightFont=*-Normal,
  AutoFakeSlant=true]{SourceHanSansSC}  

\newCJKfontfamily[SourceHanSansSCRegular]\SourceHanSansSCRegular[
  Extension=.otf,
  Path=\cjkfonts@path/,
  UprightFont=*-Regular,
  AutoFakeSlant=true]{SourceHanSansSC}  

\newCJKfontfamily[SourceHanSansSCMedium]\SourceHanSansSCMedium[
  Extension=.otf,
  Path=\cjkfonts@path/,
  UprightFont=*-Medium,
  AutoFakeSlant=true]{SourceHanSansSC}  

\newCJKfontfamily[SourceHanSansSCBold]\SourceHanSansSCBold[
  Extension=.otf,
  Path=\cjkfonts@path/,
  UprightFont=*-Bold,
  AutoFakeSlant=true]{SourceHanSansSC}  

\newCJKfontfamily[SourceHanSansSCHeavy]\SourceHanSansSCHeavy[
  Extension=.otf,
  Path=\cjkfonts@path/,
  UprightFont=*-Heavy,
  AutoFakeSlant=true]{SourceHanSansSC}  


\ifthenelse{\boolean{cjkfonts@default}}{

	\setCJKmainfont[Extension=.otf,
	  Path=\cjkfonts@path/,
	  UprightFont=*-\cjkfonts@mdseries,
	  BoldFont=*-\cjkfonts@bfseries,
	  ItalicFont=*-\cjkfonts@mdseries,
	  BoldItalicFont=*-\cjkfonts@bfseries,
	  ItalicFeatures=FakeSlant,
	  BoldItalicFeatures=FakeSlant]{SourceHanSansSC}
	
	\setCJKsansfont[
	  Extension=.otf,
	  Path=\cjkfonts@path/,
	  UprightFont=*-\cjkfonts@mdseries,
	  BoldFont=*-\cjkfonts@bfseries,
	  ItalicFont=*-\cjkfonts@mdseries,
	  BoldItalicFont=*-\cjkfonts@bfseries,
	  ItalicFeatures=FakeSlant,
	  BoldItalicFeatures=FakeSlant]{SourceHanSansSC}
	
	\setCJKmonofont[
	  Extension=.otf,
	  Path=\cjkfonts@path/,
	  UprightFont=*-\cjkfonts@mdseries,
	  BoldFont=*-\cjkfonts@bfseries,
	  ItalicFont=*-\cjkfonts@mdseries,
	  BoldItalicFont=*-\cjkfonts@bfseries,
	  ItalicFeatures=FakeSlant,
	  BoldItalicFeatures=FakeSlant]{SourceHanSansSC}

}{}


%% This must be the last command
\endinput
